---
import { Icon } from "astro-icon/components";
import Book from "../components/Book.astro";
import { getCollection } from "astro:content";
import Tile from "./Tile.astro";

const books = await getCollection("books");
---

<Tile>
    <div class="flex flex-row gap-1.5 mb-2.5 text-zinc-500 dark:text-zinc-400">
        <Icon name="tabler:book" />
        <h2 class="text-xs font-bold uppercase tracking-widest">Bookshelf</h2>
    </div>

    <div
        class="flex flex-col h-full gap-2.5 overflow-y-auto scrollbar mask-[linear-gradient(to_bottom,black_95%,transparent)] max-h-115"
    >
        {books.map(({ id, data }) => <Book id={id} {...data} />)}
    </div>
</Tile>

<style>
    .scrollbar {
        scrollbar-width: thin;
        scrollbar-color: gray transparent;
    }

    html.dark .scrollbar {
        scrollbar-color: lightgray transparent;
    }
</style>
