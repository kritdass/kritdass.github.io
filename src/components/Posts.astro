---
import Post from "../components/Post.astro";
import Tile from "../components/Tile.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";

const posts = await getCollection("posts");
---

<Tile>
    <div class="flex flex-row gap-1.5 mb-2.5 text-zinc-500 dark:text-zinc-400">
        <Icon name="tabler:book" />
        <h2 class="text-xs font-bold uppercase tracking-widest">Blog</h2>
    </div>

    <div
        class="flex flex-col h-full gap-2.5 overflow-y-auto scrollbar mask-[linear-gradient(to_bottom,black_95%,transparent)] min-h-50 max-h-85"
    >
        {posts.map(({ id, data }) => <Post id={id} {...data} />)}
    </div>
</Tile>

<style>
    .scrollbar {
        scrollbar-width: thin;
        scrollbar-color: gray transparent;
    }

    html.dark .scrollbar {
        scrollbar-color: lightgray transparent;
    }
</style>
