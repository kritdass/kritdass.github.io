---
import type { GetStaticPaths } from "astro";
import "@fontsource-variable/inter";
import "@fontsource-variable/playfair-display";
import "@fontsource/iosevka";
import "@fontsource/poppins";
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { ClientRouter } from "astro:transitions";

const {title, description} = Astro.props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <meta name="description" content={description} />
        <title>Blog | {title}</title>
        
        <ClientRouter />

        <script is:inline>
            function applyTheme() {
                const theme =
                    localStorage.theme === "dark" ||
                    (!("theme" in localStorage) &&
                        window.matchMedia("(prefers-color-scheme: dark)")
                            .matches);
                document.documentElement.classList.toggle("dark", theme);
            }
            applyTheme();
            document.addEventListener("astro:after-swap", applyTheme);
        </script>
    </head>
    <body
        class="min-h-screen flex flex-col items-center relative bg-white text-black dark:bg-zinc-800 dark:text-white"
    >
        <div
            class="relative z-10 w-[90%] max-w-7xl flex flex-col gap-5 leading-none pt-6"
        >
            <Header />
            <slot />
            <Footer />
        </div>
    </body>
</html>
